<html>
<head>
</head>
<body>
<canvas id="canvas" width="600" height="600" style="border:1px solid #000000;">
</body>
</html>
<script>
	var c = document.getElementById("canvas");
	var ctx = c.getContext("2d");
	ctx.fillStyle = 'black';
	ctx.beginPath();
	ctx.fillRect(0, 0, 600, 600);
	ctx.stroke();

	//create intervals
	function a () {
		console.log("a");

		//filling in
		let a_x, a_y;
		a_x = 10;
		a_y = 10; 
		let random_fill , random_color , random_length;
		for (let j = 1; j < 32; j++) {
			for (let i = 1; i < 32; i++) {
				random_fill   = Math.round(Math.random()*2);
				random_color  = Math.round(Math.random()*2);
				random_length = Math.round(Math.random()*4);
	
				ctx.beginPath();
				if ( random_color == 0 ) ctx.fillStyle = 'white';
				if ( random_color == 1 ) ctx.fillStyle = 'gray';
				if ( random_color == 2 ) ctx.fillStyle = 'black';
				
				if (random_fill !== 0 )	{
					ctx.fillRect(a_x, a_y, 10*random_length, 10);
					a_x += 10*random_length;
				} else a_x += 20;
				ctx.stroke();
			}
			a_y += 20;
			a_x =  10;
		}

		//cleaning out
		setTimeout(function(){ 
			let a_x, a_y;
			a_x = 10;
			a_y = 10; 
			
			for (let j = 1; j < 32; j++) {
				for (let i = 1; i < 32; i++) {
					random_fill   = Math.round(Math.random()*2);
					random_color  = Math.round(Math.random()*2);
					random_length = Math.round(Math.random()*4);
	
					ctx.beginPath();
					ctx.fillStyle = 'black';
					ctx.fillRect(a_x, a_y, 10, 10);
					ctx.stroke();
					a_x += 20;
				}
				a_y += 20;
				a_x =  10;
			}
			}, 25);

	}
	function b () {
		console.log("b");
	
		//filling in
		let a_x, a_y;
		a_x = 1;
		a_y = 1; 
	
		for (let j = 1; j < 32; j++) {
			for (let i = 1; i < 32; i++) {
				random_fill   = Math.round(Math.random()*2);
				random_color  = Math.round(Math.random()*2);
				random_length = Math.round(Math.random()*4);
	
				ctx.beginPath();
				if ( random_color == 0 ) ctx.fillStyle = 'white';
				if ( random_color == 1 ) ctx.fillStyle = 'gray';
				if ( random_color == 2 ) ctx.fillStyle = 'black';
				
				if (random_fill !== 0 )	{
					ctx.fillRect(a_x, a_y, 10*random_length, 10);
					a_x += 10*random_length;
				} else a_x += 20;
				ctx.stroke();
			}
			a_y += 20;
			a_x =  1;
		}

		//cleaning out
		setTimeout(function(){ 
			let a_x, a_y;
			a_x = 1;
			a_y = 1; 
	
			for (let j = 1; j < 32; j++) {
				for (let i = 1; i < 32; i++) {
					random_fill   = Math.round(Math.random()*2);
					random_color  = Math.round(Math.random()*2);
					random_length = Math.round(Math.random()*4);
	
					ctx.beginPath();
					if ( random_color == 0 ) ctx.fillStyle = 'white';
					if ( random_color == 1 ) ctx.fillStyle = 'gray';
					if ( random_color == 2 ) ctx.fillStyle = 'black';
				
					if (random_fill !== 0 )	{
						ctx.fillRect(a_x, a_y, 10*random_length, 10);
						a_x += 10*random_length;
					} else a_x += 20;
					ctx.stroke();
				}
				a_y += 20;
				a_x =  1;
			}
			}, 25);

	}
	let a_time, b_time;
	a_time = setInterval( a , 100);
	setTimeout(function(){b_time = setInterval( b , 100)} , 50);
</script>
