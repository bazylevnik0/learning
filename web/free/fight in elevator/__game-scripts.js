var MovementPlayer=pc.createScript("movementplayer"),impulsePlayer=.25;MovementPlayer.prototype.update=function(e){this.app.keyboard.isPressed(pc.KEY_LEFT)&&this.entity.rigidbody.applyImpulse(-impulsePlayer,0,impulsePlayer),this.app.keyboard.isPressed(pc.KEY_RIGHT)&&this.entity.rigidbody.applyImpulse(impulsePlayer,0,-impulsePlayer),this.app.keyboard.isPressed(pc.KEY_UP)&&this.entity.rigidbody.applyImpulse(-impulsePlayer,0,-impulsePlayer),this.app.keyboard.isPressed(pc.KEY_DOWN)&&this.entity.rigidbody.applyImpulse(impulsePlayer,0,impulsePlayer),this.app.keyboard.isPressed(pc.KEY_A)&&this.entity.rigidbody.angularVelocity.y<1&&this.entity.rigidbody.applyTorqueImpulse(0,4*impulsePlayer,0),this.app.keyboard.isPressed(pc.KEY_D)&&this.entity.rigidbody.angularVelocity.y>-1&&this.entity.rigidbody.applyTorqueImpulse(0,4*-impulsePlayer,0),(this.app.keyboard.isPressed(pc.KEY_RIGHT)||this.app.keyboard.isPressed(pc.KEY_LEFT)||this.app.keyboard.isPressed(pc.KEY_UP)||this.app.keyboard.isPressed(pc.KEY_DOWN))&&this.entity.sound.play("SoundMovingPlayer")};var fov,GlobalGame=pc.createScript("globalgame"),hard=100,level=0;GlobalGame.prototype.initialize=function(){this.Player=this.app.root.findByName("Player"),this.PC=this.app.root.findByName("PC"),this.Player.power=100,this.PC.power=100,this.touch=!1,this.entity.collision.on("contact",this.onContact,this),this.Camera=this.app.root.findByName("Camera"),this.TextLevel=this.app.root.findByName("TextLevel"),this.TextPlayerIndicator=this.app.root.findByName("TextPlayerIndicator"),this.TextPcIndicator=this.app.root.findByName("TextPcIndicator")};var temp,i=0;GlobalGame.prototype.update=function(e){this.app.keyboard.wasPressed(pc.KEY_S)&&(1==this.touch?(this.PC.power-=10,console.log("PC.power: ",this.PC.power),this.Player.sound.play("SoundSuccesfullPunch")):this.Player.sound.play("SoundFailurePunch"),this.entity.anim.setBoolean("punch",!0)),this.app.keyboard.wasReleased(pc.KEY_S)&&this.entity.anim.setBoolean("punch",!1),this.PC.power<=0&&((hard-=90)<0&&(hard=10),this.PC.power=100,this.Player.power=100,this.Player.sound.play("SoundHardUp")),this.Player.power<=0&&(temp=this.Camera.getPosition(),this.Camera.setPosition(temp.x,temp.y-.01,temp.z),impulsePlayer=0),temp=this.Camera.getPosition(),this.Camera.setPosition(temp.x,temp.y+.01,temp.z),temp.y>12&&(this.Camera.setPosition(7.207,4,7.116),level++,this.Player.sound.play("SoundLevelUp")),this.TextLevel.element.text="Level: "+level+" Hard: "+hard,temp="";for(let e=0;e<this.Player.power;e+=10)temp+="|";this.TextPlayerIndicator.element.text=temp,temp="";for(let e=0;e<this.PC.power;e+=10)temp+="|";this.TextPcIndicator.element.text=temp},GlobalGame.prototype.onContact=function(e){if("PC"==e.other.name){this.touch=!0,0==Math.floor(Math.random()*hard)&&(console.log("Player.power: ",this.Player.power),this.Player.power-=10,this.Player.sound.play("SoundSuccesfullPunch"))}else this.touch=!1};var MovementPc=pc.createScript("movementpc"),impulsePc=1,k=100;MovementPc.prototype.initialize=function(){this.Player=this.app.root.findByName("Player")},MovementPc.prototype.update=function(i){let e=Math.floor(4*Math.random());0==e&&this.entity.rigidbody.applyImpulse(-impulsePc,0,impulsePc),1==e&&this.entity.rigidbody.applyImpulse(impulsePc,0,-impulsePc),2==e&&this.entity.rigidbody.applyImpulse(-impulsePc,0,-impulsePc),3==e&&this.entity.rigidbody.applyImpulse(impulsePc,0,impulsePc),this.entity.sound.play("SoundMovingPc")};var LookAt=pc.createScript("lookAt");LookAt.prototype.initialize=function(){this.Player=this.app.root.findByName("Player")},LookAt.prototype.update=function(t){this.entity.lookAt(this.Player.getPosition()),this.entity.rotateLocal(0,90,0)};